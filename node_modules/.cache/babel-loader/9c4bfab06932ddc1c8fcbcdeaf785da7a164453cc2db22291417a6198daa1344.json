{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vaibh\\\\OneDrive\\\\Desktop\\\\college\\\\web devlopment\\\\Zepto Prject\\\\my-ap\\\\src\\\\CanvasEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Canvas {\n  constructor(canvas, templateData) {\n    this.canvas = canvas;\n    this.ctx = canvas.getContext('2d');\n    this.templateData = templateData;\n  }\n  draw() {\n    // Draw the background color\n    this.ctx.fillStyle = this.templateData.background_color;\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n    // Draw the design pattern\n    const patternImg = new Image();\n    patternImg.onload = () => {\n      this.ctx.drawImage(patternImg, 0, 0, this.canvas.width, this.canvas.height);\n      this.drawMask();\n    };\n    patternImg.src = this.templateData.urls.design_pattern;\n  }\n  drawMask() {\n    // Draw the mask\n    const mask = new Image();\n    mask.onload = () => {\n      this.ctx.globalCompositeOperation = 'source-atop';\n      this.ctx.drawImage(mask, this.templateData.image_mask.x, this.templateData.image_mask.y, this.templateData.image_mask.width, this.templateData.image_mask.height);\n      this.drawMaskStroke();\n    };\n    mask.src = this.templateData.urls.mask;\n  }\n  drawMaskStroke() {\n    // Draw the mask stroke\n    const stroke = new Image();\n    stroke.onload = () => {\n      this.ctx.globalCompositeOperation = 'source-over';\n      this.ctx.drawImage(stroke, this.templateData.image_mask.x, this.templateData.image_mask.y, this.templateData.image_mask.width, this.templateData.image_mask.height);\n      this.drawCaption();\n      this.drawCTA();\n    };\n    stroke.src = this.templateData.urls.stroke;\n  }\n  drawCaption() {\n    this.ctx.fillStyle = this.templateData.caption.text_color;\n    this.ctx.font = `${this.templateData.caption.font_size}px Arial`;\n    this.ctx.textAlign = this.templateData.caption.alignment;\n    const lines = this.getLines(this.templateData.caption.text, this.templateData.caption.max_characters_per_line);\n    lines.forEach((line, index) => {\n      this.ctx.fillText(line, this.templateData.caption.position.x, this.templateData.caption.position.y + index * (this.templateData.caption.font_size + 5));\n    });\n  }\n  drawCTA() {\n    this.ctx.fillStyle = this.templateData.cta.text_color;\n    this.ctx.fillRect(this.templateData.cta.position.x, this.templateData.cta.position.y, 100, 40);\n    this.ctx.fillStyle = this.templateData.cta.background_color;\n    this.ctx.fillText(this.templateData.cta.text, this.templateData.cta.position.x + 10, this.templateData.cta.position.y + 30);\n  }\n  getLines(text, maxWidth) {\n    const words = text.split(' ');\n    const lines = [];\n    let currentLine = words[0];\n    for (let i = 1; i < words.length; i++) {\n      const word = words[i];\n      const width = this.ctx.measureText(`${currentLine} ${word}`).width;\n      if (width < maxWidth) {\n        currentLine += ` ${word}`;\n      } else {\n        lines.push(currentLine);\n        currentLine = word;\n      }\n    }\n    lines.push(currentLine);\n    return lines;\n  }\n}\nconst CanvasEditor = ({\n  templateData\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = new Canvas(canvasRef.current, templateData);\n    canvas.draw();\n  }, [templateData]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    width: 1080,\n    height: 1080,\n    style: {\n      height: 400,\n      width: 400\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n_s(CanvasEditor, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n_c = CanvasEditor;\nexport default CanvasEditor;\nvar _c;\n$RefreshReg$(_c, \"CanvasEditor\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","Canvas","constructor","canvas","templateData","ctx","getContext","draw","fillStyle","background_color","fillRect","width","height","patternImg","Image","onload","drawImage","drawMask","src","urls","design_pattern","mask","globalCompositeOperation","image_mask","x","y","drawMaskStroke","stroke","drawCaption","drawCTA","caption","text_color","font","font_size","textAlign","alignment","lines","getLines","text","max_characters_per_line","forEach","line","index","fillText","position","cta","maxWidth","words","split","currentLine","i","length","word","measureText","push","CanvasEditor","_s","canvasRef","current","ref","style","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/vaibh/OneDrive/Desktop/college/web devlopment/Zepto Prject/my-ap/src/CanvasEditor.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\n\r\nclass Canvas {\r\n  constructor(canvas, templateData) {\r\n    this.canvas = canvas;\r\n    this.ctx = canvas.getContext('2d');\r\n    this.templateData = templateData;\r\n  }\r\n\r\n  draw() {\r\n    // Draw the background color\r\n    this.ctx.fillStyle = this.templateData.background_color;\r\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n  \r\n    // Draw the design pattern\r\n    const patternImg = new Image();\r\n    patternImg.onload = () => {\r\n      this.ctx.drawImage(patternImg, 0, 0, this.canvas.width, this.canvas.height);\r\n      this.drawMask();\r\n    };\r\n    patternImg.src = this.templateData.urls.design_pattern;\r\n  }\r\n  \r\n  drawMask() {\r\n    // Draw the mask\r\n    const mask = new Image();\r\n    mask.onload = () => {\r\n      this.ctx.globalCompositeOperation = 'source-atop';\r\n      this.ctx.drawImage(mask, this.templateData.image_mask.x, this.templateData.image_mask.y, this.templateData.image_mask.width, this.templateData.image_mask.height);\r\n      this.drawMaskStroke();\r\n    };\r\n    mask.src = this.templateData.urls.mask;\r\n  }\r\n  \r\n  drawMaskStroke() {\r\n    // Draw the mask stroke\r\n    const stroke = new Image();\r\n    stroke.onload = () => {\r\n      this.ctx.globalCompositeOperation = 'source-over';\r\n      this.ctx.drawImage(stroke, this.templateData.image_mask.x, this.templateData.image_mask.y, this.templateData.image_mask.width, this.templateData.image_mask.height);\r\n      this.drawCaption();\r\n      this.drawCTA();\r\n    };\r\n    stroke.src = this.templateData.urls.stroke;\r\n  }\r\n  \r\n\r\n  drawCaption() {\r\n    this.ctx.fillStyle = this.templateData.caption.text_color;\r\n    this.ctx.font = `${this.templateData.caption.font_size}px Arial`;\r\n    this.ctx.textAlign = this.templateData.caption.alignment;\r\n    const lines = this.getLines(this.templateData.caption.text, this.templateData.caption.max_characters_per_line);\r\n    lines.forEach((line, index) => {\r\n      this.ctx.fillText(line, this.templateData.caption.position.x, this.templateData.caption.position.y + index * (this.templateData.caption.font_size + 5));\r\n    });\r\n  }\r\n\r\n  drawCTA() {\r\n    this.ctx.fillStyle = this.templateData.cta.text_color;\r\n    this.ctx.fillRect(this.templateData.cta.position.x, this.templateData.cta.position.y, 100, 40);\r\n    this.ctx.fillStyle = this.templateData.cta.background_color;\r\n    this.ctx.fillText(this.templateData.cta.text, this.templateData.cta.position.x + 10, this.templateData.cta.position.y + 30);\r\n  }\r\n\r\n  getLines(text, maxWidth) {\r\n    const words = text.split(' ');\r\n    const lines = [];\r\n    let currentLine = words[0];\r\n\r\n    for (let i = 1; i < words.length; i++) {\r\n      const word = words[i];\r\n      const width = this.ctx.measureText(`${currentLine} ${word}`).width;\r\n      if (width < maxWidth) {\r\n        currentLine += ` ${word}`;\r\n      } else {\r\n        lines.push(currentLine);\r\n        currentLine = word;\r\n      }\r\n    }\r\n    lines.push(currentLine);\r\n    return lines;\r\n  }\r\n}\r\n\r\nconst CanvasEditor = ({ templateData }) => {\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = new Canvas(canvasRef.current, templateData);\r\n    canvas.draw();\r\n  }, [templateData]);\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      width={1080}\r\n      height={1080}\r\n      style={{ height: 400, width: 400 }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default CanvasEditor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}